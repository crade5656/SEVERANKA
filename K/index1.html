<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Корзина</title>
    <link rel="stylesheet" href="styles.css">
    <script defer src="cart.js"></script>
</head>
<body>
    <header>
        <h1>Корзина</h1>
        <a href="./index.html">Назад в магазин</a>
    </header>
    <main>
        <section id="cart-items">
            <h2>Товары в корзине</h2>
            <ul id="cart-list"></ul>
            <p id="total-price">Общая стоимость: 0 руб.</p>
            <button id="clear-cart">Очистить корзину</button>
        </section>
    </main>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let cartList = document.getElementById("cart-list");
            let totalPriceElement = document.getElementById("total-price");
            let clearCartButton = document.getElementById("clear-cart");
            
            let cartItems = JSON.parse(localStorage.getItem("cart")) || [];
            let total = 0;
            
            cartItems.forEach(item => {
                let li = document.createElement("li");
                li.innerText = `${item.name} - ${item.price} руб.`;
                cartList.appendChild(li);
                total += parseFloat(item.price);
            });
            
            totalPriceElement.innerText = `Общая стоимость: ${total.toFixed(2)} руб.`;
            
            clearCartButton.addEventListener("click", function () {
                localStorage.removeItem("cart");
                cartList.innerHTML = "";
                totalPriceElement.innerText = "Общая стоимость: 0 руб.";
            });
        });
    </script>
</body>
</html>